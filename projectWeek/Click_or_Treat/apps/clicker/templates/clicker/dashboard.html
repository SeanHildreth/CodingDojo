<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        
        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
        <script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>


        <title>Click-or-Treat</title>


        <script>
            var candy = 0, character_lvl = 1, ninjaf_lvl = 0, knight_lvl = 0, advboy_lvl = 0, advgirl_lvl = 0, robot_lvl = 0, character_cost = 5, ninjaf_cost = 50, knight_cost = 500, advboy_cost = 5000, advgirl_cost = 5000, robot_cost = 50000;
            var ninjaf_strength = 0, knight_strength = 0, advboy_strength = 0, advgirl_strength = 0, robot_strength = 0;
            var dps = ninjaf_strength + knight_strength + advboy_strength + advgirl_strength + robot_strength;
            var click_strength = character_lvl + (character_lvl/5) + (dps/10);

            function ninjaflvlup(){
                if (candy < ninjaf_cost){
                    return False;
                }
                if (ninjaf_lvl == 0){
                    var ninjafshow = document.getElementById('ninjafdiv');
                    ninjafshow.attributes.removeNamedItem('hidden');
                }
                candy -= ninjaf_cost;
                ninjaf_cost *= 1.25;
                ninjaf_lvl += 1;
                ninjaf_strength = ninjaf_lvl + (ninjaf_lvl/5);
                document.getElementById('ninjaflvl').innerHTML = 'Lvl ' + ninjaf_lvl.toString();
                document.getElementById('ninjafcost').innerHTML = Math.trunc(ninjaf_cost).toString();
                document.getElementById('candy_count').innerHTML = Math.trunc(candy).toString();
                document.getElementById('ninjafdps').innerHTML = 'DPS: ' + ninjaf_strength.toString();
                showdps();
            }


            function knightlvlup(){
                if (candy < knight_cost){
                    return False;
                }
                if (knight_lvl == 0){
                    var knightshow = document.getElementById('knightdiv');
                    knightshow.attributes.removeNamedItem('hidden');
                }
                candy -= knight_cost;
                knight_cost *= 1.25;
                knight_lvl += 1;
                knight_strength = 5 * (knight_lvl + (knight_lvl/4));
                document.getElementById('knightlvl').innerHTML = 'Lvl ' + knight_lvl.toString();
                document.getElementById('knightcost').innerHTML = Math.trunc(knight_cost).toString();
                document.getElementById('candy_count').innerHTML = Math.trunc(candy).toString();
                document.getElementById('knightdps').innerHTML = 'DPS: ' + knight_strength.toString();
                showdps();
            }


            function advboylvlup(){
                if (candy < advboy_cost){
                    return False;
                }
                if (advboy_lvl == 0){
                    var advboyshow = document.getElementById('advboydiv');
                    advboyshow.attributes.removeNamedItem('hidden');
                }
                candy -= advboy_cost;
                advboy_cost *= 1.25;
                advboy_lvl += 1;
                advboy_strength = 10 * (advboy_lvl + (advboy_lvl/2));
                document.getElementById('advboylvl').innerHTML = 'Lvl ' + advboy_lvl.toString();
                document.getElementById('advboycost').innerHTML = Math.trunc(advboy_cost).toString();
                document.getElementById('candy_count').innerHTML = Math.trunc(candy).toString();
                document.getElementById('advboydps').innerHTML = 'DPS: ' + advboy_strength.toString();
                showdps();
            }

            function advgirllvlup(){
                if (candy < advgirl_cost){
                    return False;
                }
                if (advgirl_lvl == 0){
                    var advgirlshow = document.getElementById('advgirldiv');
                    advgirlshow.attributes.removeNamedItem('hidden');
                }
                candy -= advgirl_cost;
                advgirl_cost *= 1.25;
                advgirl_lvl += 1;
                advgirl_strength = 10 * (advgirl_lvl + (advgirl_lvl/2));
                document.getElementById('advgirllvl').innerHTML = 'Lvl ' + advgirl_lvl.toString();
                document.getElementById('advgirlcost').innerHTML = Math.trunc(advgirl_cost).toString();
                document.getElementById('candy_count').innerHTML = Math.trunc(candy).toString();
                document.getElementById('advgirldps').innerHTML = 'DPS: ' + advgirl_strength.toString();
                showdps();
            }

            function robotlvlup(){
                if (candy < robot_cost){
                    return False;
                }
                if (robot_lvl == 0){
                    var robotshow = document.getElementById('robotdiv');
                    robotshow.attributes.removeNamedItem('hidden');
                }
                candy -= robot_cost;
                robot_cost *= 1.25;
                robot_lvl += 1;
                robot_strength = 20 * (robot_lvl * 2);
                document.getElementById('robotlvl').innerHTML = 'Lvl ' + robot_lvl.toString();
                document.getElementById('robotcost').innerHTML = Math.trunc(robot_cost).toString();
                document.getElementById('candy_count').innerHTML = Math.trunc(candy).toString();
                document.getElementById('robotdps').innerHTML = 'DPS: ' + robot_strength.toString();
                showdps();
            }


            function lvlup(){
                if (candy < character_cost){
                    return False;
                }
                candy -= character_cost;
                character_cost *= 1.5;
                character_lvl += 1;
                click_strength = character_lvl + (character_lvl/5) + (dps/10);
                document.getElementById('ninjamlvl').innerHTML = 'Lvl ' + character_lvl.toString();
                document.getElementById('ninjamcost').innerHTML = Math.trunc(character_cost).toString();
                document.getElementById('candy_count').innerHTML = Math.trunc(candy).toString();
                document.getElementById('clickstr').innerHTML = 'Click Strength: ' + Math.trunc(click_strength).toString();
            }


            function candyclick() {
                candy += click_strength;
                document.getElementById('candy_count').innerHTML = Math.trunc(candy).toString();
            };


            var dpsfunc;
            
            (function dpsfunction() {
                dpsfunc = setInterval(rundps, 1000);
            })();

            function rundps(){
                candy += ninjaf_strength + knight_strength + advboy_strength + advgirl_strength + robot_strength;
                document.getElementById('candy_count').innerHTML = Math.trunc(candy).toString();
            }


            function showdps(){
                dps = ninjaf_strength + knight_strength + advboy_strength + advgirl_strength + robot_strength;
                click_strength = character_lvl + (character_lvl/5) + (dps/10);
                document.getElementById('dps').innerHTML = 'Dmg Per Second: ' + Math.trunc(dps).toString();
                document.getElementById('clickstr').innerHTML = 'Click Strength: ' + Math.trunc(click_strength).toString();
            }


        </script>

    </head>
    <body>
        <div class="container position-relative" style="background-image: url(../../static/images/clicker/BG.png); background-size: contain; background-repeat: no-repeat; background-color: #0d1516; height: 750px;">
            <h1 class="position-absolute" style="left: 380px; color: orangered; font-size: 65px;">Click or Treat</h1>
            <div class="row">
                <div class="col" style="height: 50px;">
                    <div class="dropdown">
                        <input class="mt-3" type="button" data-toggle="dropdown" style="background: url(../../static/images/clicker/cog.png) no-repeat; background-size: contain; cursor:pointer; border:none; width:50px; height:50px;">
                        <div class="dropdown-menu border-dark bg-dark" aria-labelledby="dropdownMenuButton">
                            <div class="border border-dark rounded" style="background-image: url(../../static/images/clicker/Tile_5.png); background-color: #0d1516; height: 512px; width: 384px;">
                                <h5 class="text-light text-center" style="background-color: #343a40; height: 35px; line-height: 35px;">Welcome {{ request.session.username }}!</h5>
                                <div class="w-100 h-100 text-center p-3">
                                    <a class="btn btn-primary btn-lg btn-block my-4 border-dark bg-dark text-light" href="/profile/{{ request.session.logged_id }}" role="button">Profile</a>
                                    <a class="btn btn-primary btn-lg btn-block my-4 border-dark bg-dark text-light" href="/users" role="button">Users</a>
                                    <a class="btn btn-primary btn-lg btn-block my-4 border-dark bg-dark text-light" href="/leaderboard" role="button">Leaderboard</a>
                                    <a class="btn btn-primary btn-lg btn-block my-4 border-dark bg-dark text-light" href="/support" role="button">Support</a>
                                    <a class="btn btn-primary btn-lg btn-block my-4 border-dark bg-dark text-light" href="/logout" role="button">Logout</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">

                </div>
            </div>
            <div class="row">
                <div class="col">

                </div>
            </div>
            <div class="row">
                <div class="col">
                    
                </div>
            </div>


            <img src="../../static/images/clicker/candy.png" class="img-fluid position-absolute" alt="Responsive image" style="height: 64px; top: 70px; left: 425px;">
            <h1 id="candy_count" class="position-absolute" style="top: 70px; left: 555px; color:orangered; font-size: 55px;">0</h1>
            



            <div id="robotdiv" hidden>
                <h6 id="robotlvl" class="position-absolute border border-light" style="top: 55px; left: 255px; color:orangered;">Lvl 1</h6>
                <img src="../../static/images/clicker/heroTile.png" class="img-fluid position-absolute" alt="Responsive image" style="height: 64px; top: 210px; left: 210px;">
                <img src="../../static/images/clicker/robot.png" class="img-fluid position-absolute" alt="Responsive image" style="height: 128px; top: 82px; left: 265px;">
                <h6 id="robotdps" class="position-absolute border border-light" style="top: 180px; left: 340px; color:orangered;">DPS: 1</h6>
            </div>



            <div id="advgirldiv" hidden>
                <h6 id="advgirllvl" class="position-absolute border border-light" style="top: 180px; left: 95px; color:orangered;">Lvl 1</h6>
                <img src="../../static/images/clicker/heroTile.png" class="img-fluid position-absolute" alt="Responsive image" style="height: 64px; top: 330px; left: 50px;">
                <img src="../../static/images/clicker/advgirl.png" class="img-fluid position-absolute" alt="Responsive image" style="height: 128px; top: 202px; left: 105px;">
                <h6 id="advgirldps" class="position-absolute border border-light" style="top: 300px; left: 180px; color:orangered;">DPS: 1</h6>
            </div>


            <div id="advboydiv" hidden>
                <h6 id="advboylvl" class="position-absolute border border-dark" style="top: 180px; left: 435px; color:orangered;">Lvl 1</h6>
                <img src="../../static/images/clicker/heroTile.png" class="img-fluid position-absolute" alt="Responsive image" style="height: 64px; top: 330px; left: 370px;">
                <img src="../../static/images/clicker/advboy.png" class="img-fluid position-absolute" alt="Responsive image" style="height: 128px; top: 202px; left: 425px;">
                <h6 id="advboydps" class="position-absolute border border-light" style="top: 300px; left: 500px; color:orangered;">DPS: 1</h6>
            </div>



            <div id="knightdiv" hidden>
                <h6 id="knightlvl" class="position-absolute border border-light" style="top: 300px; left: 250px; color:orangered;">Lvl 1</h6>
                <img src="../../static/images/clicker/heroTile.png" class="img-fluid position-absolute" alt="Responsive image" style="height: 64px; top: 440px; left: 210px;">
                <img src="../../static/images/clicker/knight.png" class="img-fluid position-absolute" alt="Responsive image" style="height: 128px; top: 312px; left: 260px;">
                <h6 id="knightdps" class="position-absolute border border-light" style="top: 410px; left: 340px; color:orangered;">DPS: 1</h6>
            </div>



            <div id="ninjafdiv" hidden>
                    <h6 id="ninjaflvl" class="position-absolute border border-light" style="top: 385px; left: 70px; color:orangered;">Lvl 1</h6>
                    <img src="../../static/images/clicker/heroTile.png" class="img-fluid position-absolute" alt="Responsive image" style="height: 64px; top: 530px; left: 25px;">
                    <img src="../../static/images/clicker/ninjaf.png" class="img-fluid position-absolute" alt="Responsive image" style="height: 128px; top: 402px; left: 80px;">
                    <h6 id="ninjafdps" class="position-absolute border border-light" style="top: 500px; left: 150px; color:orangered;">DPS: 1</h6>
            </div>



            <div id="ninjamdiv">
                <h6 id="ninjamlvl" class="position-absolute border border-light" style="top: 470px; left: 460px; color:orangered;">Lvl 1</h6>
                <img src="../../static/images/clicker/ninjam.png" class="img-fluid position-absolute" alt="Responsive image" style="height: 128px; top: 495px; left: 480px;">
                <img src="../../static/images/clicker/zombie.png" onclick="candyclick()" id="monster" class="img-fluid position-absolute" alt="Responsive image" style="height: 128px; top: 495px; left: 600px;">
            </div>


            <div class="row">
                <div class="col position-absolute" style="font-size:0%; top: 622px; left: 0px; padding-left: 58px; background-color: #0d1516;">
                    <img src="../../static/images/clicker/Tile_1.png" class="img-fluid" alt="Tile L">
                    <img src="../../static/images/clicker/Tile_2.png" class="img-fluid" alt="Tile M">
                    <img src="../../static/images/clicker/Tile_2.png" class="img-fluid" alt="Tile M">
                    <img src="../../static/images/clicker/Tile_2.png" class="img-fluid" alt="Tile M">
                    <img src="../../static/images/clicker/Tile_2.png" class="img-fluid" alt="Tile M">
                    <img src="../../static/images/clicker/Tile_2.png" class="img-fluid" alt="Tile M">
                    <img src="../../static/images/clicker/Tile_2.png" class="img-fluid" alt="Tile M">
                    <img src="../../static/images/clicker/Tile_3.png" class="img-fluid" alt="Tile R">


                    <img src="../../static/images/clicker/ninjam_head.png" onclick="lvlup()" class="img-fluid position-absolute" alt="Responsive image" style="height: 64px; top: 50px; left: 100px;">
                    <h5 id="ninjamcost" class="position-absolute" style="top: 50px; left: 100px; color:yellow;">5</h5>

                    <img src="../../static/images/clicker/ninjaf_head.png" onclick="ninjaflvlup()" class="img-fluid position-absolute" alt="Responsive image" style="height: 64px; top: 50px; left: 200px;">
                    <h5 id="ninjafcost" class="position-absolute" style="top: 50px; left: 210px; color:yellow;">50</h5>

                    <img src="../../static/images/clicker/knight_head.png" onclick="knightlvlup()" class="img-fluid position-absolute" alt="Responsive image" style="height: 64px; top: 50px; left: 300px;">
                    <h5 id="knightcost" class="position-absolute" style="top: 50px; left: 300px; color:yellow;">500</h5>

                    <img src="../../static/images/clicker/advboy_head.png" onclick="advboylvlup()" class="img-fluid position-absolute" alt="Responsive image" style="height: 64px; top: 50px; left: 400px;">
                    <h5 id="advboycost" class="position-absolute" style="top: 50px; left: 410px; color:yellow;">5000</h5>

                    <img src="../../static/images/clicker/advgirl_head.png" onclick="advgirllvlup()" class="img-fluid position-absolute" alt="Responsive image" style="height: 64px; top: 50px; left: 500px;">
                    <h5 id="advgirlcost" class="position-absolute" style="top: 50px; left: 510px; color:yellow;">5000</h5>

                    <img src="../../static/images/clicker/robot_head.png" onclick="robotlvlup()" class="img-fluid position-absolute" alt="Responsive image" style="height: 64px; top: 50px; left: 600px;">
                    <h5 id="robotcost" class="position-absolute" style="top: 50px; left: 600px; color:yellow;">50000</h5>


                    <h4 id="clickstr" class="position-absolute" style="top: 50px; left: 700px; color:yellow;">Click Strength: 1</h4>
                    <h4 id="dps" class="position-absolute" style="top: 75px; left: 700px; color:yellow;">Dmg Per Second: 0</h4>



                </div>
            </div>
        </div>
    </body>
</html>